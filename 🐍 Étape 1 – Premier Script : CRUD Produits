import csv

FILENAME = "produits.csv"

def lire_produits():
    try:
        with open(FILENAME, mode="r", newline="", encoding="utf-8") as f:
            reader = csv.DictReader(f)
            return list(reader)
    except FileNotFoundError:
        return []

def ajouter_produit(id, nom, description, prix, quantite):
    produits = lire_produits()
    produits.append({
        "id": id,
        "nom": nom,
        "description": description,
        "prix": prix,
        "quantite": quantite
    })
    with open(FILENAME, mode="w", newline="", encoding="utf-8") as f:
        writer = csv.DictWriter(f, fieldnames=["id","nom","description","prix","quantite"])
        writer.writeheader()
        writer.writerows(produits)

# Exemple d’utilisation
ajouter_produit("1", "Clavier", "Clavier mécanique", "79.99", "10")
print(lire_produits())
